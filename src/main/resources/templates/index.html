<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<section>
		<!-- Start Slider  -->
		<div id="carouselExample" class="carousel slide carousel-fade mt-5" data-bs-ride="carousel" data-bs-interval="4000">
  <div class="carousel-inner">
    <th:block th:if="${#lists.isEmpty(carouselImages)}">
      <!-- Default fallback images -->
      <div class="carousel-item active">
        <img src="img/ecom1.png" class="d-block w-80" alt="..." height="750px">
      </div>
      <div class="carousel-item">
        <img src="img/ecom3.jpg" class="d-block w-80" alt="..." height="750px">
      </div>
      <div class="carousel-item">
        <img src="img/ecom2.jpg" class="d-block w-80" alt="..." height="750px">
      </div>
    </th:block>

    <th:block th:unless="${#lists.isEmpty(carouselImages)}">
      <div class="carousel-item" th:each="img, iterStat : ${carouselImages}" th:classappend="${iterStat.index == 0} ? 'active'">
        <img th:src="@{${img.imageUrl}}" class="d-block w-100" alt="Carousel Image" height="450px">
      </div>
    </th:block>
  </div>

  <!-- Controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>

  <!-- Indicators -->
  <div class="carousel-indicators" th:if="${not #lists.isEmpty(carouselImages)}">
    <button th:each="img, iterStat : ${carouselImages}"
            th:class="${iterStat.index == 0} ? 'active'"
            type="button"
            data-bs-target="#carouselExample"
            th:attr="data-bs-slide-to=${iterStat.index}"
            th:aria-label="'Slide ' + ${iterStat.index + 1}"></button>
  </div>
</div>
		
		

		<!-- End Slider  -->

		<!--< Start Category Module -->
		<div class="container">
			<div class="row">
				<p class="text-center fs-4">Category</p>
				<div class="col-md-2" th:each="c:${category}">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img th:src="@{${c.imageName} != null ? ${c.imageName} : '/img/default-image.png'}" width="65%" height="140px">
<br>
							<a th:href="@{'/products?category='+${c.name}}" class="text-decoration-none">[[${c.name}]]</a>
						</div>
					</div>
				</div>

				<!-- <div class="col-md-2">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img src="img/category_img/beuty.png" width="65%" height="140px">
							<p>Beauty</p>
						</div>
					</div>
				</div> -->


				<!-- <div class="col-md-2">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img src="img/category_img/pant.png" width="65%" height="140px">
							<p>Clothes</p>
						</div>
					</div>
				</div>
 -->
				<!-- <div class="col-md-2">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img src="img/category_img/laptop.jpg" width="65%" height="140px">
							<p>Laptop</p>
						</div>
					</div>
				</div> -->


			<!-- 	<div class="col-md-2">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img src="img/category_img/mobile.png" width="65%" height="140px">
							<p>Mobile</p>
						</div>
					</div>
				</div> -->

				<!-- <div class="col-md-2">
					<div
						class="card rounded-circle shadow-sm p-3 mb-5 bg-body-tertiary rounded ">
						<div class="card-body text-center">
							<img src="img/category_img/groccery.jpg" width="65%"
								height="140px">
							<p>Grocery</p>
						</div>
					</div>
				</div> -->


			</div>
		</div>
		<!-- End Category Module -->


		<!-- Start Latest Product Module -->

		<div class="container-fluid bg-light p-3">
			<div class="row">
				<p class="text-center fs-4">Latest Product</p>

				<div class="col-md-3" th:each="p:${products}">
					<div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
						<div class="card-body text-center">
							<img alt="hii" th:src="@{${p.image} != null ? ${p.image} : '/img/default-image.png'}" width="65%" height="140px">

							<p class="text-center"><a th:href="@{'/product/'+${p.id}}" class="text-decoration-none">[[${p.title}]]</a></p>
							<div class="mt-2">
                <span class="fw-bold text-success" th:text="'₹' + ${p.discountPrice}">₹[[${p.discountPrice}]]</span>
                <span class="text-muted ms-2" th:if="${p.discount > 0}">
                    <span th:text="'₹' + ${p.price}">₹[[${p.price}]]</span>
                </span>
                <span class="badge bg-danger ms-2" th:if="${p.discount > 0}" th:text="'-' + ${p.discount} + '%'">[[${p.discount}]]%</span>
            </div>
						</div>
					</div>
				</div>
				</div>
		</div>
		


		<!-- End Latest Product Module -->
	</section>
</body>
</html>